<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-3.3.1.js"
			  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
			  crossorigin="anonymous"></script>
<script>
$(document).ready(function(){
	
	$("#button1").click(function(){
		$.getJSON( "http://localhost:8080/jboss-weatherapp/rest/weather/London,%20UK", function( json ) {
			  console.log( "City: " + json.city + ", " + json.country );
			  console.log( "City: " + json.temperature + ", " + json.conditions );
			  var weather = json.city + ", " + json.country + ": " + json.temperature + " with " + json.conditions;
			  console.log(weather);
			  $("#div1").html(weather);
			 });
	});

	$("#button2").click(function(){
			$.getJSON( "http://localhost:8080/jboss-weatherapp/rest/weather", function( json ) {
				var html = '';
		        $.each(json, function(key, value){
		            html += '<div class="dcell">';
		            html += value.city;
		            html += ', ';
		            html += value.country;
		            html += '</div>';
		        });
		    		$('#div1').html(html);
			});
		});

	$("#button3").click(function(){
		var city = $("input#city").val();
		var url = "http://localhost:8080/jboss-weatherapp/rest/weather/" + city;

		$.getJSON( url, function( json ) {
			  console.log( "City: " + json.city + ", " + json.country );
			  console.log( "City: " + json.temperature + ", " + json.conditions );
			  var weather = json.city + ", " + json.country + ": " + json.temperature + " with " + json.conditions;
			  console.log(weather);
			  $("#div2").html(weather);
			 });
	});

});
</script>
</head>
<body>

<div id="div1"><h2>Let jQuery AJAX Change This Text</h2></div>

<button id="button1">Get Some Weather</button>
<button id="button2">Get All Weather</button>
<div id="div2">The Weather is...</div>
<h2>A List of Valid Cities</h2>
<ul>
<li>London, UK</li>
<li>Rome, Italy</li>
<li>Como, Italy</li>
<li>Basel, Switzerland</li>
<li>Bern, Switzerland</li>
<li>London, UK</li>
<li>Ottawa, Canada</li>
<li>Toronto, Canada</li>
<li>Lisbon, Portugal</li>
<li>Porto, Portugal</li>
<li>Raleigh, USA</li>
<li>Washington, USA</li>
</ul>
<form>
<input type="text" id="city" name="city" />
</form>
<button id="button3">Get The Weather</button>

</body>
</html>